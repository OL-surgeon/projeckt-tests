{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/render.js","../src/main.js"],"sourcesContent":["export async function fetchArtists(page = 1, limit = 12) {\n  const res = await fetch(\n    `https://sound-wave.b.goit.study/api/artists?page=${page}&limit=${limit}`\n  );\n  if (!res.ok) throw new Error('API Error');\n  return res.json(); // { data: [...], total, page, limit }\n}\n\nexport async function fetchArtistById(id) {\n  const res = await fetch(`https://sound-wave.b.goit.study/api/artists/${id}`);\n  if (!res.ok) throw new Error('API Error');\n  return res.json(); // { data: { ...artist fields } }\n}\n","const gallery = document.querySelector('.artists-grid');\nconst loadMore = document.querySelector('.load-more');\nconst modal = document.querySelector('.artist-modal');\n\nexport function renderArtists(list) {\n  const html = list\n    .map(\n      artist => `\n    <div class=\"artist-card\" data-id=\"${artist.id}\">\n      <img src=\"${artist.imageUrl}\" alt=\"${artist.name}\">\n      <h3>${artist.name}</h3>\n      <p>${artist.genre}</p>\n    </div>\n  `\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', html);\n}\n\nexport function clearArtists() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoadMoreBtn(total, shown) {\n  loadMore.style.display = shown < total ? 'block' : 'none';\n}\n\nexport function openArtistModal(artist) {\n  modal.querySelector('.modal-title').textContent = artist.name;\n  modal.querySelector('.modal-img').src = artist.imageUrl;\n  modal.querySelector('.modal-genre').textContent = artist.genre;\n  modal.querySelector('.modal-bio').textContent = artist.bio;\n  modal.classList.add('open');\n}\n\nexport function closeModal() {\n  modal.classList.remove('open');\n}\n","import { fetchArtists, fetchArtistById } from './js/api.js';\nimport {\n  renderArtists,\n  clearArtists,\n  showLoadMoreBtn,\n  openArtistModal,\n  closeModal,\n} from './js/render.js';\n\nlet page = 1,\n  total = 0,\n  shown = 0;\n\nasync function loadArtists(reset = false) {\n  try {\n    const res = await fetchArtists(page);\n    total = res.total;\n    reset ? clearArtists() : null;\n    renderArtists(res.data);\n    shown += res.data.length;\n    showLoadMoreBtn(total, shown);\n  } catch (e) {\n    alert('Error loading artists');\n  }\n}\n\ndocument.querySelector('.load-more').addEventListener('click', () => {\n  page++;\n  loadArtists();\n});\n\ndocument.querySelector('.artists-grid').addEventListener('click', async e => {\n  const card = e.target.closest('.artist-card');\n  if (!card) return;\n  const artist = await fetchArtistById(card.dataset.id);\n  openArtistModal(artist);\n});\n\ndocument.querySelector('.modal-close').addEventListener('click', closeModal);\n\n// Initial render\nloadArtists(true);\n"],"names":["fetchArtists","page","limit","res","fetchArtistById","id","gallery","loadMore","modal","renderArtists","list","html","artist","clearArtists","showLoadMoreBtn","total","shown","openArtistModal","closeModal","loadArtists","reset","e","card"],"mappings":"ssBAAO,eAAeA,EAAaC,EAAO,EAAGC,EAAQ,GAAI,CACvD,MAAMC,EAAM,MAAM,MAChB,oDAAoDF,CAAI,UAAUC,CAAK,EAC3E,EACE,GAAI,CAACC,EAAI,GAAI,MAAM,IAAI,MAAM,WAAW,EACxC,OAAOA,EAAI,MACb,CAEO,eAAeC,EAAgBC,EAAI,CACxC,MAAMF,EAAM,MAAM,MAAM,+CAA+CE,CAAE,EAAE,EAC3E,GAAI,CAACF,EAAI,GAAI,MAAM,IAAI,MAAM,WAAW,EACxC,OAAOA,EAAI,MACb,CCZA,MAAMG,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAQ,SAAS,cAAc,eAAe,EAE7C,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAAOD,EACV,IACCE,GAAU;AAAA,wCACwBA,EAAO,EAAE;AAAA,kBAC/BA,EAAO,QAAQ,UAAUA,EAAO,IAAI;AAAA,YAC1CA,EAAO,IAAI;AAAA,WACZA,EAAO,KAAK;AAAA;AAAA,GAGlB,EACA,KAAK,EAAE,EACVN,EAAQ,mBAAmB,YAAaK,CAAI,CAC9C,CAEO,SAASE,GAAe,CAC7BP,EAAQ,UAAY,EACtB,CAEO,SAASQ,EAAgBC,EAAOC,EAAO,CAC5CT,EAAS,MAAM,QAAUS,EAAQD,EAAQ,QAAU,MACrD,CAEO,SAASE,EAAgBL,EAAQ,CACtCJ,EAAM,cAAc,cAAc,EAAE,YAAcI,EAAO,KACzDJ,EAAM,cAAc,YAAY,EAAE,IAAMI,EAAO,SAC/CJ,EAAM,cAAc,cAAc,EAAE,YAAcI,EAAO,MACzDJ,EAAM,cAAc,YAAY,EAAE,YAAcI,EAAO,IACvDJ,EAAM,UAAU,IAAI,MAAM,CAC5B,CAEO,SAASU,GAAa,CAC3BV,EAAM,UAAU,OAAO,MAAM,CAC/B,CC5BA,IAAIP,EAAO,EACTc,EAAQ,EACRC,EAAQ,EAEV,eAAeG,EAAYC,EAAQ,GAAO,CACxC,GAAI,CACF,MAAMjB,EAAM,MAAMH,EAAaC,CAAI,EACnCc,EAAQZ,EAAI,MACZiB,GAAQP,EAAc,EACtBJ,EAAcN,EAAI,IAAI,EACtBa,GAASb,EAAI,KAAK,OAClBW,EAAgBC,EAAOC,CAAK,CAC7B,MAAW,CACV,MAAM,uBAAuB,CAC9B,CACH,CAEA,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,IAAM,CACnEf,IACAkB,GACF,CAAC,EAED,SAAS,cAAc,eAAe,EAAE,iBAAiB,QAAS,MAAME,GAAK,CAC3E,MAAMC,EAAOD,EAAE,OAAO,QAAQ,cAAc,EAC5C,GAAI,CAACC,EAAM,OACX,MAAMV,EAAS,MAAMR,EAAgBkB,EAAK,QAAQ,EAAE,EACpDL,EAAgBL,CAAM,CACxB,CAAC,EAED,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAASM,CAAU,EAG3EC,EAAY,EAAI"}