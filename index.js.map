{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/render.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchArtists(page = 1, limit = 8) {\n  const url = `https://sound-wave.b.goit.study/api/artists?page=${page}&limit=${limit}`;\n\n  try {\n    const { data } = await axios.get(url);\n    return data;\n  } catch (error) {\n    console.error('Помилка отримання артистів:', error);\n    return null;\n  }\n}\n","export function createArtistCard(artist) {\n  if (\n    !artist ||\n    !artist.strArtistThumb ||\n    !artist.strArtist ||\n    !artist.genres ||\n    !artist.strBiographyEN\n  ) {\n    return '';\n  }\n\n  const shortBio =\n    artist.strBiographyEN.length > 200\n      ? artist.strBiographyEN.slice(0, 200) + '...'\n      : artist.strBiographyEN;\n\n  return `\n        <li class=\"artist-card\">\n            <img src=\"${artist.strArtistThumb}\" alt=\"${\n    artist.strArtist\n  }\" class=\"artist-image\" data-id=\"${artist._id}\" />\n            <h3 class=\"artist-name\">${artist.strArtist}</h3>\n            <p class=\"artist-genre\">${artist.genres.join(', ')}</p>\n            <p class=\"artist-bio\" data-full=\"${\n              artist.strBiographyEN\n            }\">${shortBio}</p>\n            <button class=\"learn-more\">Learn More</button>\n        </li>\n    `;\n}\n","import { fetchArtists } from './js/api.js';\nimport { createArtistCard } from './js/render.js';\nimport './css/styles.css';\n\nconst artistsList = document.querySelector('.list-cards');\nconst loadMoreBtn = document.getElementById('load-more');\n\nlet currentPage = 1;\nconst limit = 8;\n\nasync function loadArtists(page = 1, limit = 8) {\n  try {\n    const data = await fetchArtists(page, limit);\n\n    if (!data || !data.artists || !Array.isArray(data.artists)) {\n      throw new Error(\n        'Невірний формат даних: artists відсутній або не є масивом'\n      );\n    }\n\n    console.log(`Отримані артисти для сторінки ${page}:`, data.artists);\n    renderArtists(data.artists);\n  } catch (error) {\n    console.error('Помилка при завантаженні артистів:', error.message);\n  }\n}\n\nfunction renderArtists(artists) {\n  artistsList.innerHTML = '';\n  const markup = artists.map(createArtistCard).join('');\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\nloadMoreBtn.addEventListener('click', () => {\n  currentPage++;\n  console.log(`Завантажуємо сторінку: ${currentPage}`);\n  loadArtists(currentPage, limit);\n});\n\ndocument.addEventListener('click', event => {\n  if (event.target.classList.contains('learn-more')) {\n    const bioElement = event.target.previousElementSibling;\n    const fullBio = bioElement.dataset.full;\n\n    if (bioElement.classList.contains('expanded')) {\n      bioElement.innerHTML = fullBio.slice(0, 200) + '...';\n      event.target.textContent = 'Learn More';\n    } else {\n      bioElement.innerHTML = fullBio;\n      event.target.textContent = 'Show Less';\n    }\n\n    bioElement.classList.toggle('expanded');\n  }\n});\n\nloadArtists();\n"],"names":["fetchArtists","page","limit","url","data","axios","error","createArtistCard","artist","shortBio","artistsList","loadMoreBtn","currentPage","loadArtists","renderArtists","artists","markup","event","bioElement","fullBio"],"mappings":"svBAEO,eAAeA,EAAaC,EAAO,EAAGC,EAAQ,EAAG,CACtD,MAAMC,EAAM,oDAAoDF,CAAI,UAAUC,CAAK,GAEnF,GAAI,CACF,KAAM,CAAE,KAAAE,CAAI,EAAK,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAOC,CACR,OAAQE,EAAO,CACd,eAAQ,MAAM,8BAA+BA,CAAK,EAC3C,IACR,CACH,CCZO,SAASC,EAAiBC,EAAQ,CACvC,GACE,CAACA,GACD,CAACA,EAAO,gBACR,CAACA,EAAO,WACR,CAACA,EAAO,QACR,CAACA,EAAO,eAER,MAAO,GAGT,MAAMC,EACJD,EAAO,eAAe,OAAS,IAC3BA,EAAO,eAAe,MAAM,EAAG,GAAG,EAAI,MACtCA,EAAO,eAEb,MAAO;AAAA;AAAA,wBAEeA,EAAO,cAAc,UACzCA,EAAO,SACX,mCAAqCA,EAAO,GAAG;AAAA,sCACTA,EAAO,SAAS;AAAA,sCAChBA,EAAO,OAAO,KAAK,IAAI,CAAC;AAAA,+CAEhDA,EAAO,cACR,KAAIC,CAAQ;AAAA;AAAA;AAAA,KAIzB,CCzBA,MAAMC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAc,SAAS,eAAe,WAAW,EAEvD,IAAIC,EAAc,EAClB,MAAMV,EAAQ,EAEd,eAAeW,EAAYZ,EAAO,EAAGC,EAAQ,EAAG,CAC9C,GAAI,CACF,MAAME,EAAO,MAAMJ,EAAaC,EAAMC,CAAK,EAE3C,GAAI,CAACE,GAAQ,CAACA,EAAK,SAAW,CAAC,MAAM,QAAQA,EAAK,OAAO,EACvD,MAAM,IAAI,MACR,2DACR,EAGI,QAAQ,IAAI,iCAAiCH,CAAI,IAAKG,EAAK,OAAO,EAClEU,EAAcV,EAAK,OAAO,CAC3B,OAAQE,EAAO,CACd,QAAQ,MAAM,qCAAsCA,EAAM,OAAO,CAClE,CACH,CAEA,SAASQ,EAAcC,EAAS,CAC9BL,EAAY,UAAY,GACxB,MAAMM,EAASD,EAAQ,IAAIR,CAAgB,EAAE,KAAK,EAAE,EACpDG,EAAY,mBAAmB,YAAaM,CAAM,CACpD,CAEAL,EAAY,iBAAiB,QAAS,IAAM,CAC1CC,IACA,QAAQ,IAAI,0BAA0BA,CAAW,EAAE,EACnDC,EAAYD,EAAaV,CAAK,CAChC,CAAC,EAED,SAAS,iBAAiB,QAASe,GAAS,CAC1C,GAAIA,EAAM,OAAO,UAAU,SAAS,YAAY,EAAG,CACjD,MAAMC,EAAaD,EAAM,OAAO,uBAC1BE,EAAUD,EAAW,QAAQ,KAE/BA,EAAW,UAAU,SAAS,UAAU,GAC1CA,EAAW,UAAYC,EAAQ,MAAM,EAAG,GAAG,EAAI,MAC/CF,EAAM,OAAO,YAAc,eAE3BC,EAAW,UAAYC,EACvBF,EAAM,OAAO,YAAc,aAG7BC,EAAW,UAAU,OAAO,UAAU,CACvC,CACH,CAAC,EAEDL,EAAa"}